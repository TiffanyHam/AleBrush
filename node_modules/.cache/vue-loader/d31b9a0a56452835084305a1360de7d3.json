{"remainingRequest":"E:\\OMROM\\A6\\AleBrush\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\OMROM\\A6\\AleBrush\\src\\views\\RemainTime\\RemainTime.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\OMROM\\A6\\AleBrush\\src\\views\\RemainTime\\RemainTime.vue","mtime":1616635535202},{"path":"E:\\OMROM\\A6\\AleBrush\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\OMROM\\A6\\AleBrush\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\OMROM\\A6\\AleBrush\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\OMROM\\A6\\AleBrush\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovLyBpbXBvcnQgeyBzY2FsZSB9IGZyb20gIi4uLy4uL1V0aWwvdG9vbCI7DQovLyBpbXBvcnQgcmVwb3J0RGF0YSBmcm9tICIuLi8uLi9VdGlsL3JlcG9ydERhdGEiOw0KaW1wb3J0IERpYWxvZyBmcm9tICcuL1Jlc2V0RGlhbG9nLnZ1ZScNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBuYW1lOiAiUmVtYWluVGltZSIsDQogICAgZGF0YSgpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIGRpYWxvZ1Zpc2lhYmxlOiBmYWxzZSwNCiAgICAgICAgICAgIC8vIOWktOmDqOWPs+S+p+Wbvuaghw0KICAgICAgICAgICAgaGVhZGVyX3JpZ2h0SWNvbjogZmFsc2UsDQogICAgICAgICAgICBzZWxmQjogdHJ1ZSwNCiAgICAgICAgICAgIGJhY2tDOiB3aW5kb3cuaXNEYXJrID8gJyMwMDAnIDogJyNmZmYnLA0KICAgICAgICAgICAgLy8g5a6e6ZmF5aSp5pWwDQogICAgICAgICAgICByZWFsVmFsdWU6IDEsDQogICAgICAgICAgICAvLyDmqKHlvI/pgInmi6kNCiAgICAgICAgICAgIGJydXNoSGVhZGVyOiAiMCIsDQogICAgICAgICAgICBzaG93X3JlYWxWYWx1ZTogdHJ1ZQ0KICAgICAgICB9Ow0KICAgIH0sDQoNCiAgICBjb21wb25lbnRzOiB7DQogICAgICAgIERpYWxvZw0KICAgIH0sDQoNCiAgICBjb21wdXRlZDogew0KICAgICAgICAvLyBibGVDb25uZWN0ZWQoKSB7DQogICAgICAgIC8vICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuQmxlU3RhdHVzLmJsZUNvbm5lY3RlZDsNCiAgICAgICAgLy8gfSwNCiAgICAgICAgLy8gYmluRGF0YSgpIHsNCiAgICAgICAgLy8gICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5CbGVTdGF0dXMuYmluRGF0YTsNCiAgICAgICAgLy8gfSwNCiAgICAgICAgbG9nRGF0YSgpIHsNCiAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5CbGVTdGF0dXMubG9nRGF0YTsNCiAgICAgICAgfSwNCiAgICB9LA0KICAgIHdhdGNoOiB7DQogICAgICAgIGRpYWxvZ1Zpc2lhYmxlKG4sIG8pIHsgfSwNCiAgICAgICAgLy8gYmxlQ29ubmVjdGVkKG4sIG8pIHsgfSwNCiAgICAgICAgLy8gYmluRGF0YShuLCBvKSB7DQogICAgICAgIC8vICAgICB0aGlzLmJpbkRhdGEgPSBuOw0KICAgICAgICAvLyAgICAgdGhpcy5qdWRnZUJvb3RoSGVhZGVyKCkNCiAgICAgICAgLy8gfSwNCiAgICB9LA0KICAgIGNyZWF0ZWQoKSB7DQogICAgICAgIHRoaXMuanVkZ2VCb290aEhlYWRlcigpDQogICAgICAgIHRoaXMuZ2V0Q2xvdWREYXRhKHRoaXMuYnJ1c2hIZWFkZXIpDQogICAgfSwNCiAgICBtb3VudGVkKCkgew0KICAgIH0sDQoNCiAgICBtZXRob2RzOiB7DQogICAgICAgIC8qKg0KICAgICAgICAgKiBAZGVzY3JpcHRpb246IOWIneWni+WMluWIpOaWreW9k+WJjeWIt+WktOaooeW8jw0KICAgICAgICAgKiBAcGFyYW0geyp9DQogICAgICAgICAqIEByZXR1cm4geyp9DQogICAgICAgICAqLw0KICAgICAgICBqdWRnZUJvb3RoSGVhZGVyKGhlYWRlck1vZGUgPSBudWxsKSB7DQogICAgICAgICAgIC8vIHRoaXMuYnJ1c2hIZWFkZXIgPSBzY2FsZS5oZXh0b0Jpbih0aGlzLmJpbkRhdGEuc3Vic3RyKDQsIDIpKS5zdWJzdHIoNSwgMSk7DQogICAgICAgIH0sDQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIEBkZXNjcmlwdGlvbjog6YeN572u5pe26Ze05oyJ6ZKuDQogICAgICAgICAqIEBwYXJhbSB7dHlwZX0NCiAgICAgICAgICogQHJldHVybiB7dHlwZX0NCiAgICAgICAgICovDQogICAgICAgIHJlc2V0aW1lKCkgew0KICAgICAgICAgICAgdGhpcy5kaWFsb2dWaXNpYWJsZSA9IHRydWU7DQogICAgICAgIH0sDQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIEBkZXNjcmlwdGlvbjog6K+35rGC5LqR56uv5pWw5o2uDQogICAgICAgICAqIEBwYXJhbSB7Kn0NCiAgICAgICAgICogQHJldHVybiB7Kn0NCiAgICAgICAgICovDQogICAgICAgIGdldENsb3VkRGF0YShtb2RlKSB7DQogICAgICAgICAgICBsZXQgcmVzQ2FsbGJhY2sgPSAocmVzKSA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy5jb3VudERheXMocmVzLCBtb2RlKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIC8vICByZXBvcnREYXRhLmdldEhpc3RvcnlMb2cocmVzQ2FsbGJhY2spDQogICAgICAgIH0sDQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIEBkZXNjcmlwdGlvbjog6K6h566X5a+55bqU5aSp5pWwDQogICAgICAgICAqIEBwYXJhbSB7Kn0NCiAgICAgICAgICogQHJldHVybiB7Kn0NCiAgICAgICAgICovDQogICAgICAgIGNvdW50RGF5cyhhcnIsIHR5cGVIZWFkZXIgPSAnMCcpIHsNCiAgICAgICAgICAgIGxldCB0aW1lcyA9IDA7DQogICAgICAgICAgICBhcnIuZm9yRWFjaCgoaXRlbSkgPT4gew0KICAgICAgICAgICAgICAgIGl0ZW1bMF0gPT09IHR5cGVIZWFkZXIgPyB0aW1lcysrIDogJyc7DQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgbGV0IHJlc3QgPSAoOTAgLSAodGltZXMgLyAyKSkgPCAwID8gMCA6ICg5MCAtICh0aW1lcyAvIDIpKTsNCiAgICAgICAgICAgIHRoaXMucmVhbFZhbHVlID0gTWF0aC5mbG9vcihyZXN0KTsNCiAgICAgICAgICAgIHRoaXMuc2hvd19yZWFsVmFsdWUgPSB0cnVlOw0KICAgICAgICB9LA0KDQogICAgICAgIC8qKg0KICAgICAgICAgKiBAZGVzY3JpcHRpb246IOW8ueeql+a0vuWPkeS6i+S7tg0KICAgICAgICAgKiBAcGFyYW0geyp9DQogICAgICAgICAqIEByZXR1cm4geyp9DQogICAgICAgICAqLw0KICAgICAgICBnZXREaWFsb2dEYXRhKHZhbCkgew0KICAgICAgICAgICAgdGhpcy5kaWFsb2dWaXNpYWJsZSA9IHZhbC5jb21wb25lbnRzVmlzaWFibGU7DQogICAgICAgICAgICBpZiAodmFsLnZhbHVlKSB7DQogICAgICAgICAgICAgICAvLyByZXBvcnREYXRhLnJlc2l6ZShuZXcgRGF0ZSgpLmdldFRpbWUoKSArIDEwMDApDQogICAgICAgICAgICAgICAgdGhpcy5yZWFsVmFsdWUgPSA5MDsNCiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRDbG91ZERhdGEodGhpcy5icnVzaEhlYWRlcikNCiAgICAgICAgICAgICAgICB9LCAxMDAwKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0sDQp9Ow0K"},{"version":3,"sources":["RemainTime.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"RemainTime.vue","sourceRoot":"src/views/RemainTime","sourcesContent":["<!--\r\n * @Description: 刷头剩余页面\r\n * @version: \r\n * @Author: HeZhen\r\n * @Date: 2020-10-23 14:40:40\r\n * @LastEditors: Please set LastEditors\r\n * @LastEditTime: 2021-03-24 16:19:11\r\n-->\r\n<!--  -->\r\n<template>\r\n    <div class=\"remainTime flexC\">\r\n        <!-- 头部start -->\r\n        <div style=\"height:'80px'\">\r\n            <Header :isRight=\"header_rightIcon\" :selfB='selfB' :backC='backC'>\r\n                <span slot=\"headerTitle\">{{$t('RemainTime.header')}}</span>\r\n            </Header>\r\n        </div>\r\n        <!-- 头部end -->\r\n        <div class=\"main flexC\">\r\n            <div v-if=\"show_realValue\" class=\"progress flexC\">\r\n                <Cprogress :realValue=\"realValue\"></Cprogress>\r\n            </div>\r\n            <div v-if=\"show_realValue\" class=\"doctorWord\">\r\n                {{$t(\"RemainTime.doctorWord\")}}\r\n            </div>\r\n\r\n            <!-- 刷头start -->\r\n            <div class=\"footer flexC\">\r\n                <button @click=\"resetime\" class='btn'>{{$t('RemainTime.reset')}}</button>\r\n            </div>\r\n        </div>\r\n        <Dialog :visiable=\"dialogVisiable\" @sendData='getDialogData'></Dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n// import { scale } from \"../../Util/tool\";\r\n// import reportData from \"../../Util/reportData\";\r\nimport Dialog from './ResetDialog.vue'\r\nexport default {\r\n    name: \"RemainTime\",\r\n    data() {\r\n        return {\r\n            dialogVisiable: false,\r\n            // 头部右侧图标\r\n            header_rightIcon: false,\r\n            selfB: true,\r\n            backC: window.isDark ? '#000' : '#fff',\r\n            // 实际天数\r\n            realValue: 1,\r\n            // 模式选择\r\n            brushHeader: \"0\",\r\n            show_realValue: true\r\n        };\r\n    },\r\n\r\n    components: {\r\n        Dialog\r\n    },\r\n\r\n    computed: {\r\n        // bleConnected() {\r\n        //     return this.$store.state.BleStatus.bleConnected;\r\n        // },\r\n        // binData() {\r\n        //     return this.$store.state.BleStatus.binData;\r\n        // },\r\n        logData() {\r\n            return this.$store.state.BleStatus.logData;\r\n        },\r\n    },\r\n    watch: {\r\n        dialogVisiable(n, o) { },\r\n        // bleConnected(n, o) { },\r\n        // binData(n, o) {\r\n        //     this.binData = n;\r\n        //     this.judgeBoothHeader()\r\n        // },\r\n    },\r\n    created() {\r\n        this.judgeBoothHeader()\r\n        this.getCloudData(this.brushHeader)\r\n    },\r\n    mounted() {\r\n    },\r\n\r\n    methods: {\r\n        /**\r\n         * @description: 初始化判断当前刷头模式\r\n         * @param {*}\r\n         * @return {*}\r\n         */\r\n        judgeBoothHeader(headerMode = null) {\r\n           // this.brushHeader = scale.hextoBin(this.binData.substr(4, 2)).substr(5, 1);\r\n        },\r\n\r\n        /**\r\n         * @description: 重置时间按钮\r\n         * @param {type}\r\n         * @return {type}\r\n         */\r\n        resetime() {\r\n            this.dialogVisiable = true;\r\n        },\r\n\r\n        /**\r\n         * @description: 请求云端数据\r\n         * @param {*}\r\n         * @return {*}\r\n         */\r\n        getCloudData(mode) {\r\n            let resCallback = (res) => {\r\n                this.countDays(res, mode)\r\n            }\r\n          //  reportData.getHistoryLog(resCallback)\r\n        },\r\n\r\n        /**\r\n         * @description: 计算对应天数\r\n         * @param {*}\r\n         * @return {*}\r\n         */\r\n        countDays(arr, typeHeader = '0') {\r\n            let times = 0;\r\n            arr.forEach((item) => {\r\n                item[0] === typeHeader ? times++ : '';\r\n            })\r\n            let rest = (90 - (times / 2)) < 0 ? 0 : (90 - (times / 2));\r\n            this.realValue = Math.floor(rest);\r\n            this.show_realValue = true;\r\n        },\r\n\r\n        /**\r\n         * @description: 弹窗派发事件\r\n         * @param {*}\r\n         * @return {*}\r\n         */\r\n        getDialogData(val) {\r\n            this.dialogVisiable = val.componentsVisiable;\r\n            if (val.value) {\r\n               // reportData.resize(new Date().getTime() + 1000)\r\n                this.realValue = 90;\r\n                setTimeout(() => {\r\n                    this.getCloudData(this.brushHeader)\r\n                }, 1000);\r\n            }\r\n        }\r\n    },\r\n};\r\n</script>\r\n\r\n\r\n\r\n<style lang='scss' scoped>\r\n.remainTime {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: relative;\r\n    background-color: #fff;\r\n    position: relative;\r\n    .main {\r\n        width: 100%;\r\n        background-color: #fff;\r\n        flex: 1;\r\n        .progress {\r\n            margin: 24px 0 0 0;\r\n            width: 100%;\r\n            height: 240px;\r\n            //height: 194px;\r\n            //border: 1px solid red;\r\n            box-sizing: border-box;\r\n        }\r\n        .doctorWord {\r\n            // border: 1px solid red;\r\n            width: 100%;\r\n            text-align: center;\r\n            font-size: 14px;\r\n            color: rgba(0, 0, 0, 0.9);\r\n            margin-top: 32px;\r\n        }\r\n        .footer {\r\n            width: 100%;\r\n            text-align: center;\r\n            background-color: #fff;\r\n            justify-content: space-between;\r\n            align-items: center;\r\n            position: absolute;\r\n            bottom: 24px;\r\n            .btn {\r\n                height: 36px;\r\n                width: 50%;\r\n                text-align: center;\r\n                border-radius: 18px;\r\n                border: 0;\r\n                background-color: rgba(0, 0, 0, 0.05);\r\n                outline: none;\r\n                font-size: 16px;\r\n                color: #007dff;\r\n            }\r\n        }\r\n    }\r\n}\r\nbutton :focus {\r\n    outline: 0;\r\n}\r\n.flexR {\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n}\r\n.flexC {\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n.flexContent {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n\r\n.theme-dark {\r\n    .remainTime {\r\n        background-color: #000;\r\n        .main {\r\n            background-color: #000;\r\n            .progress {\r\n                //height: 220px;\r\n            }\r\n            .doctorWord {\r\n                color: rgba(255, 255, 255, 0.86);\r\n            }\r\n            .footer {\r\n                background-color: #000;\r\n                .btn {\r\n                    background-color: rgba(255, 255, 255, 0.1);\r\n                    color: #3f97e9;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>"]}]}