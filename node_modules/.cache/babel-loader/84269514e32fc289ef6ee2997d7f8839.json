{"remainingRequest":"E:\\OMROM\\A6\\AleBrush\\node_modules\\babel-loader\\lib\\index.js!E:\\OMROM\\A6\\AleBrush\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\OMROM\\A6\\AleBrush\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\OMROM\\A6\\AleBrush\\src\\views\\RemainTime\\RemainTime.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\OMROM\\A6\\AleBrush\\src\\views\\RemainTime\\RemainTime.vue","mtime":1616635535202},{"path":"E:\\OMROM\\A6\\AleBrush\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\OMROM\\A6\\AleBrush\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\OMROM\\A6\\AleBrush\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\OMROM\\A6\\AleBrush\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8gaW1wb3J0IHsgc2NhbGUgfSBmcm9tICIuLi8uLi9VdGlsL3Rvb2wiOwovLyBpbXBvcnQgcmVwb3J0RGF0YSBmcm9tICIuLi8uLi9VdGlsL3JlcG9ydERhdGEiOwppbXBvcnQgRGlhbG9nIGZyb20gJy4vUmVzZXREaWFsb2cudnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJSZW1haW5UaW1lIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGlhbG9nVmlzaWFibGU6IGZhbHNlLAogICAgICAvLyDlpLTpg6jlj7Pkvqflm77moIcKICAgICAgaGVhZGVyX3JpZ2h0SWNvbjogZmFsc2UsCiAgICAgIHNlbGZCOiB0cnVlLAogICAgICBiYWNrQzogd2luZG93LmlzRGFyayA/ICcjMDAwJyA6ICcjZmZmJywKICAgICAgLy8g5a6e6ZmF5aSp5pWwCiAgICAgIHJlYWxWYWx1ZTogMSwKICAgICAgLy8g5qih5byP6YCJ5oupCiAgICAgIGJydXNoSGVhZGVyOiAiMCIsCiAgICAgIHNob3dfcmVhbFZhbHVlOiB0cnVlCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgRGlhbG9nOiBEaWFsb2cKICB9LAogIGNvbXB1dGVkOiB7CiAgICAvLyBibGVDb25uZWN0ZWQoKSB7CiAgICAvLyAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLkJsZVN0YXR1cy5ibGVDb25uZWN0ZWQ7CiAgICAvLyB9LAogICAgLy8gYmluRGF0YSgpIHsKICAgIC8vICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuQmxlU3RhdHVzLmJpbkRhdGE7CiAgICAvLyB9LAogICAgbG9nRGF0YTogZnVuY3Rpb24gbG9nRGF0YSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLkJsZVN0YXR1cy5sb2dEYXRhOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGRpYWxvZ1Zpc2lhYmxlOiBmdW5jdGlvbiBkaWFsb2dWaXNpYWJsZShuLCBvKSB7fSAvLyBibGVDb25uZWN0ZWQobiwgbykgeyB9LAogICAgLy8gYmluRGF0YShuLCBvKSB7CiAgICAvLyAgICAgdGhpcy5iaW5EYXRhID0gbjsKICAgIC8vICAgICB0aGlzLmp1ZGdlQm9vdGhIZWFkZXIoKQogICAgLy8gfSwKCiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5qdWRnZUJvb3RoSGVhZGVyKCk7CiAgICB0aGlzLmdldENsb3VkRGF0YSh0aGlzLmJydXNoSGVhZGVyKTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7fSwKICBtZXRob2RzOiB7CiAgICAvKioNCiAgICAgKiBAZGVzY3JpcHRpb246IOWIneWni+WMluWIpOaWreW9k+WJjeWIt+WktOaooeW8jw0KICAgICAqIEBwYXJhbSB7Kn0NCiAgICAgKiBAcmV0dXJuIHsqfQ0KICAgICAqLwogICAganVkZ2VCb290aEhlYWRlcjogZnVuY3Rpb24ganVkZ2VCb290aEhlYWRlcigpIHsvLyB0aGlzLmJydXNoSGVhZGVyID0gc2NhbGUuaGV4dG9CaW4odGhpcy5iaW5EYXRhLnN1YnN0cig0LCAyKSkuc3Vic3RyKDUsIDEpOwoKICAgICAgdmFyIGhlYWRlck1vZGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IG51bGw7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIEBkZXNjcmlwdGlvbjog6YeN572u5pe26Ze05oyJ6ZKuDQogICAgICogQHBhcmFtIHt0eXBlfQ0KICAgICAqIEByZXR1cm4ge3R5cGV9DQogICAgICovCiAgICByZXNldGltZTogZnVuY3Rpb24gcmVzZXRpbWUoKSB7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWFibGUgPSB0cnVlOwogICAgfSwKCiAgICAvKioNCiAgICAgKiBAZGVzY3JpcHRpb246IOivt+axguS6keerr+aVsOaNrg0KICAgICAqIEBwYXJhbSB7Kn0NCiAgICAgKiBAcmV0dXJuIHsqfQ0KICAgICAqLwogICAgZ2V0Q2xvdWREYXRhOiBmdW5jdGlvbiBnZXRDbG91ZERhdGEobW9kZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHJlc0NhbGxiYWNrID0gZnVuY3Rpb24gcmVzQ2FsbGJhY2socmVzKSB7CiAgICAgICAgX3RoaXMuY291bnREYXlzKHJlcywgbW9kZSk7CiAgICAgIH07IC8vICByZXBvcnREYXRhLmdldEhpc3RvcnlMb2cocmVzQ2FsbGJhY2spCgogICAgfSwKCiAgICAvKioNCiAgICAgKiBAZGVzY3JpcHRpb246IOiuoeeul+WvueW6lOWkqeaVsA0KICAgICAqIEBwYXJhbSB7Kn0NCiAgICAgKiBAcmV0dXJuIHsqfQ0KICAgICAqLwogICAgY291bnREYXlzOiBmdW5jdGlvbiBjb3VudERheXMoYXJyKSB7CiAgICAgIHZhciB0eXBlSGVhZGVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnMCc7CiAgICAgIHZhciB0aW1lcyA9IDA7CiAgICAgIGFyci5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaXRlbVswXSA9PT0gdHlwZUhlYWRlciA/IHRpbWVzKysgOiAnJzsKICAgICAgfSk7CiAgICAgIHZhciByZXN0ID0gOTAgLSB0aW1lcyAvIDIgPCAwID8gMCA6IDkwIC0gdGltZXMgLyAyOwogICAgICB0aGlzLnJlYWxWYWx1ZSA9IE1hdGguZmxvb3IocmVzdCk7CiAgICAgIHRoaXMuc2hvd19yZWFsVmFsdWUgPSB0cnVlOwogICAgfSwKCiAgICAvKioNCiAgICAgKiBAZGVzY3JpcHRpb246IOW8ueeql+a0vuWPkeS6i+S7tg0KICAgICAqIEBwYXJhbSB7Kn0NCiAgICAgKiBAcmV0dXJuIHsqfQ0KICAgICAqLwogICAgZ2V0RGlhbG9nRGF0YTogZnVuY3Rpb24gZ2V0RGlhbG9nRGF0YSh2YWwpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLmRpYWxvZ1Zpc2lhYmxlID0gdmFsLmNvbXBvbmVudHNWaXNpYWJsZTsKCiAgICAgIGlmICh2YWwudmFsdWUpIHsKICAgICAgICAvLyByZXBvcnREYXRhLnJlc2l6ZShuZXcgRGF0ZSgpLmdldFRpbWUoKSArIDEwMDApCiAgICAgICAgdGhpcy5yZWFsVmFsdWUgPSA5MDsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMi5nZXRDbG91ZERhdGEoX3RoaXMyLmJydXNoSGVhZGVyKTsKICAgICAgICB9LCAxMDAwKTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["RemainTime.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;AACA;AACA,OAAA,MAAA,MAAA,mBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,cAAA,EAAA,KADA;AAEA;AACA,MAAA,gBAAA,EAAA,KAHA;AAIA,MAAA,KAAA,EAAA,IAJA;AAKA,MAAA,KAAA,EAAA,MAAA,CAAA,MAAA,GAAA,MAAA,GAAA,MALA;AAMA;AACA,MAAA,SAAA,EAAA,CAPA;AAQA;AACA,MAAA,WAAA,EAAA,GATA;AAUA,MAAA,cAAA,EAAA;AAVA,KAAA;AAYA,GAfA;AAiBA,EAAA,UAAA,EAAA;AACA,IAAA,MAAA,EAAA;AADA,GAjBA;AAqBA,EAAA,QAAA,EAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAA,OAPA,qBAOA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,SAAA,CAAA,OAAA;AACA;AATA,GArBA;AAgCA,EAAA,KAAA,EAAA;AACA,IAAA,cADA,0BACA,CADA,EACA,CADA,EACA,CAAA,CADA,CAEA;AACA;AACA;AACA;AACA;;AANA,GAhCA;AAwCA,EAAA,OAxCA,qBAwCA;AACA,SAAA,gBAAA;AACA,SAAA,YAAA,CAAA,KAAA,WAAA;AACA,GA3CA;AA4CA,EAAA,OA5CA,qBA4CA,CACA,CA7CA;AA+CA,EAAA,OAAA,EAAA;AACA;;;;;AAKA,IAAA,gBANA,8BAMA,CACA;;AADA,UAAA,UAAA,uEAAA,IAAA;AAEA,KARA;;AAUA;;;;;AAKA,IAAA,QAfA,sBAeA;AACA,WAAA,cAAA,GAAA,IAAA;AACA,KAjBA;;AAmBA;;;;;AAKA,IAAA,YAxBA,wBAwBA,IAxBA,EAwBA;AAAA;;AACA,UAAA,WAAA,GAAA,SAAA,WAAA,CAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,SAAA,CAAA,GAAA,EAAA,IAAA;AACA,OAFA,CADA,CAIA;;AACA,KA7BA;;AA+BA;;;;;AAKA,IAAA,SApCA,qBAoCA,GApCA,EAoCA;AAAA,UAAA,UAAA,uEAAA,GAAA;AACA,UAAA,KAAA,GAAA,CAAA;AACA,MAAA,GAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,QAAA,IAAA,CAAA,CAAA,CAAA,KAAA,UAAA,GAAA,KAAA,EAAA,GAAA,EAAA;AACA,OAFA;AAGA,UAAA,IAAA,GAAA,KAAA,KAAA,GAAA,CAAA,GAAA,CAAA,GAAA,CAAA,GAAA,KAAA,KAAA,GAAA,CAAA;AACA,WAAA,SAAA,GAAA,IAAA,CAAA,KAAA,CAAA,IAAA,CAAA;AACA,WAAA,cAAA,GAAA,IAAA;AACA,KA5CA;;AA8CA;;;;;AAKA,IAAA,aAnDA,yBAmDA,GAnDA,EAmDA;AAAA;;AACA,WAAA,cAAA,GAAA,GAAA,CAAA,kBAAA;;AACA,UAAA,GAAA,CAAA,KAAA,EAAA;AACA;AACA,aAAA,SAAA,GAAA,EAAA;AACA,QAAA,UAAA,CAAA,YAAA;AACA,UAAA,MAAA,CAAA,YAAA,CAAA,MAAA,CAAA,WAAA;AACA,SAFA,EAEA,IAFA,CAAA;AAGA;AACA;AA5DA;AA/CA,CAAA","sourcesContent":["<!--\r\n * @Description: 刷头剩余页面\r\n * @version: \r\n * @Author: HeZhen\r\n * @Date: 2020-10-23 14:40:40\r\n * @LastEditors: Please set LastEditors\r\n * @LastEditTime: 2021-03-24 16:19:11\r\n-->\r\n<!--  -->\r\n<template>\r\n    <div class=\"remainTime flexC\">\r\n        <!-- 头部start -->\r\n        <div style=\"height:'80px'\">\r\n            <Header :isRight=\"header_rightIcon\" :selfB='selfB' :backC='backC'>\r\n                <span slot=\"headerTitle\">{{$t('RemainTime.header')}}</span>\r\n            </Header>\r\n        </div>\r\n        <!-- 头部end -->\r\n        <div class=\"main flexC\">\r\n            <div v-if=\"show_realValue\" class=\"progress flexC\">\r\n                <Cprogress :realValue=\"realValue\"></Cprogress>\r\n            </div>\r\n            <div v-if=\"show_realValue\" class=\"doctorWord\">\r\n                {{$t(\"RemainTime.doctorWord\")}}\r\n            </div>\r\n\r\n            <!-- 刷头start -->\r\n            <div class=\"footer flexC\">\r\n                <button @click=\"resetime\" class='btn'>{{$t('RemainTime.reset')}}</button>\r\n            </div>\r\n        </div>\r\n        <Dialog :visiable=\"dialogVisiable\" @sendData='getDialogData'></Dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n// import { scale } from \"../../Util/tool\";\r\n// import reportData from \"../../Util/reportData\";\r\nimport Dialog from './ResetDialog.vue'\r\nexport default {\r\n    name: \"RemainTime\",\r\n    data() {\r\n        return {\r\n            dialogVisiable: false,\r\n            // 头部右侧图标\r\n            header_rightIcon: false,\r\n            selfB: true,\r\n            backC: window.isDark ? '#000' : '#fff',\r\n            // 实际天数\r\n            realValue: 1,\r\n            // 模式选择\r\n            brushHeader: \"0\",\r\n            show_realValue: true\r\n        };\r\n    },\r\n\r\n    components: {\r\n        Dialog\r\n    },\r\n\r\n    computed: {\r\n        // bleConnected() {\r\n        //     return this.$store.state.BleStatus.bleConnected;\r\n        // },\r\n        // binData() {\r\n        //     return this.$store.state.BleStatus.binData;\r\n        // },\r\n        logData() {\r\n            return this.$store.state.BleStatus.logData;\r\n        },\r\n    },\r\n    watch: {\r\n        dialogVisiable(n, o) { },\r\n        // bleConnected(n, o) { },\r\n        // binData(n, o) {\r\n        //     this.binData = n;\r\n        //     this.judgeBoothHeader()\r\n        // },\r\n    },\r\n    created() {\r\n        this.judgeBoothHeader()\r\n        this.getCloudData(this.brushHeader)\r\n    },\r\n    mounted() {\r\n    },\r\n\r\n    methods: {\r\n        /**\r\n         * @description: 初始化判断当前刷头模式\r\n         * @param {*}\r\n         * @return {*}\r\n         */\r\n        judgeBoothHeader(headerMode = null) {\r\n           // this.brushHeader = scale.hextoBin(this.binData.substr(4, 2)).substr(5, 1);\r\n        },\r\n\r\n        /**\r\n         * @description: 重置时间按钮\r\n         * @param {type}\r\n         * @return {type}\r\n         */\r\n        resetime() {\r\n            this.dialogVisiable = true;\r\n        },\r\n\r\n        /**\r\n         * @description: 请求云端数据\r\n         * @param {*}\r\n         * @return {*}\r\n         */\r\n        getCloudData(mode) {\r\n            let resCallback = (res) => {\r\n                this.countDays(res, mode)\r\n            }\r\n          //  reportData.getHistoryLog(resCallback)\r\n        },\r\n\r\n        /**\r\n         * @description: 计算对应天数\r\n         * @param {*}\r\n         * @return {*}\r\n         */\r\n        countDays(arr, typeHeader = '0') {\r\n            let times = 0;\r\n            arr.forEach((item) => {\r\n                item[0] === typeHeader ? times++ : '';\r\n            })\r\n            let rest = (90 - (times / 2)) < 0 ? 0 : (90 - (times / 2));\r\n            this.realValue = Math.floor(rest);\r\n            this.show_realValue = true;\r\n        },\r\n\r\n        /**\r\n         * @description: 弹窗派发事件\r\n         * @param {*}\r\n         * @return {*}\r\n         */\r\n        getDialogData(val) {\r\n            this.dialogVisiable = val.componentsVisiable;\r\n            if (val.value) {\r\n               // reportData.resize(new Date().getTime() + 1000)\r\n                this.realValue = 90;\r\n                setTimeout(() => {\r\n                    this.getCloudData(this.brushHeader)\r\n                }, 1000);\r\n            }\r\n        }\r\n    },\r\n};\r\n</script>\r\n\r\n\r\n\r\n<style lang='scss' scoped>\r\n.remainTime {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: relative;\r\n    background-color: #fff;\r\n    position: relative;\r\n    .main {\r\n        width: 100%;\r\n        background-color: #fff;\r\n        flex: 1;\r\n        .progress {\r\n            margin: 24px 0 0 0;\r\n            width: 100%;\r\n            height: 240px;\r\n            //height: 194px;\r\n            //border: 1px solid red;\r\n            box-sizing: border-box;\r\n        }\r\n        .doctorWord {\r\n            // border: 1px solid red;\r\n            width: 100%;\r\n            text-align: center;\r\n            font-size: 14px;\r\n            color: rgba(0, 0, 0, 0.9);\r\n            margin-top: 32px;\r\n        }\r\n        .footer {\r\n            width: 100%;\r\n            text-align: center;\r\n            background-color: #fff;\r\n            justify-content: space-between;\r\n            align-items: center;\r\n            position: absolute;\r\n            bottom: 24px;\r\n            .btn {\r\n                height: 36px;\r\n                width: 50%;\r\n                text-align: center;\r\n                border-radius: 18px;\r\n                border: 0;\r\n                background-color: rgba(0, 0, 0, 0.05);\r\n                outline: none;\r\n                font-size: 16px;\r\n                color: #007dff;\r\n            }\r\n        }\r\n    }\r\n}\r\nbutton :focus {\r\n    outline: 0;\r\n}\r\n.flexR {\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n}\r\n.flexC {\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n.flexContent {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n\r\n.theme-dark {\r\n    .remainTime {\r\n        background-color: #000;\r\n        .main {\r\n            background-color: #000;\r\n            .progress {\r\n                //height: 220px;\r\n            }\r\n            .doctorWord {\r\n                color: rgba(255, 255, 255, 0.86);\r\n            }\r\n            .footer {\r\n                background-color: #000;\r\n                .btn {\r\n                    background-color: rgba(255, 255, 255, 0.1);\r\n                    color: #3f97e9;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>"],"sourceRoot":"src/views/RemainTime"}]}